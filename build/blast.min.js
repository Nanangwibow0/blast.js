"use strict";!function(a,b){function c(a){var b={},c=null;for(c in a)a.hasOwnProperty(c)&&(b[c]=j.observable(a[c]));return b}function d(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]());return b}function e(b,c){b instanceof a.HTMLInputElement?b.value=c:b.innerHTML=c}function f(b){return b instanceof a.HTMLInputElement?b.value:b.innerHTML}function g(a,b){var c=b?b:k;return c.querySelectorAll("[data-bind="+a+"]")}function h(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function i(a){return null===a||"undefined"==typeof a}var j=a.blast=a.blast||{},k=b,l=["pop","push","reverse","shift","sort","splice","unshift"];j.observable=function(a){var b=a,c=function(a){return i(a)||a===c._val?b:(c.notify(!1),b=a,c.notify(!0),c)};return c.notify=function(a,d){for(var e=0;e<c.subs.length;e++)c.subs[e](b,a?!1:!0,d)},c.subs=[],c._val=a,c.__bo=!0,c(a),c},j.observableArray=function(a){a=a||[];var b,c=j.observable(a),d=function(a){return function(){c.notify(!1,a);var b=c._val[a].apply(c._val,arguments);return c.notify(!0,a),b}};for(b=0;b<l.length;b++)c[l[b]]=d(l[b]);return c},j.link=function(a,b,c){var d=b.key;c[d].__bo&&c[d].subs.push(function(b,c){c||e(a,b)}),a.addEventListener(b.event?b.event:"change",function(){var b=f(a);c[d].__bo?c[d](b):c[d]=b},!1),(i(b)||b&&b.init!==!1)&&e(a,c[d].__bo?c[d]():c[d])},j.linkAll=function(a,b,c){for(var d=g(a,b.parent),e=0;e<d.length;e++)b.key=a,j.link(d[e],b,c)},j.observe=function(a){if(i(a))return null;if(Array.isArray(a)){for(var b=[],d=0;d<a.length;d++){{c(a[d])}b.push(c(a[d]))}return b}return c(a)},j.bind=function(a,b){var c=i(b)?{}:b,d=function(a,b,c,d){var e=b.cloneNode(!0);d?a.insertBefore(e,a.firstChild):a.appendChild(e),c.parent=e};for(var e in a)if(a.hasOwnProperty(e)){var f=a[e];if(Array.isArray(f)||f.__bo&&Array.isArray(f())){var k=g(e)[0],l=(k.firstElementChild||k.children[0]).cloneNode(!0);h(k),f.__bo&&(f.subs.push(function(a,b,e){if(!b)switch(e){case"push":d(k,l,c),j.bind(a[a.length-1],c);break;case"pop":k.removeChild(k.lastChild);break;case"shift":k.removeChild(k.firstChild);break;case"unshift":d(k,l,c,!0),j.bind(a[0],c);break;case"splice":break;case"sort":}}),f=f());for(var m=0;m<f.length;m++)d(k,l,c),j.bind(f[m],c)}else j.linkAll(e,c,a)}},j.json=function(a){if(i(a))return null;if(Array.isArray(a)){for(var b=[],c=0;c<a.length;c++)b.push(d(a[c]));return b}return d(a)}}(window,document),"function"==typeof define&&define.amd&&define("blast",[],function(){return window.blast}),"undefined"!=typeof module&&module.exports&&(module.exports=window.blast);