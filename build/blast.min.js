"use strict";!function(a,b){function c(a){var b={},c=null;for(c in a)a.hasOwnProperty(c)&&(b[c]=j.observable(a[c]));return b}function d(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]());return b}function e(b,c){b instanceof a.HTMLInputElement?b.value=c:b.innerHTML=c}function f(b){return b instanceof a.HTMLInputElement?b.value:b.innerHTML}function g(a,b){var c=b?b:k;return c.querySelectorAll("[data-bind="+a+"]")}function h(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function i(a){return null===a||"undefined"==typeof a}var j=a.blast=a.blast||{},k=b,l=["pop","push","reverse","shift","sort","splice","unshift"];j.observable=function(a){var b=a,c=function(a){return i(a)||a===c._val?b:(c.notify(),b=a,c.notify(!0),c)};return c.notify=function(a){for(var d=0;d<c.subs.length;d++)c.subs[d](b,a?!1:!0)},c.subs=[],c._val=a,c.__bo=!0,c(a),c},j.observableArray=function(a){a=a||[];var b,c=j.observable(a),d=function(a){return function(){c.notify();var b=c._val[a].apply(c._val,arguments);return c.notify(!0),b}};for(b=0;b<l.length;b++)c[l[b]]=d(l[b]);return c},j.link=function(a,b,c){var d=b.key;c[d].__bo&&c[d].subs.push(function(b,c){c||e(a,b)}),a.addEventListener(b.event?b.event:"change",function(){var b=f(a);c[d].__bo?c[d](b):c[d]=b},!1),(i(b)||b&&b.init!==!1)&&e(a,c[d].__bo?c[d]():c[d])},j.linkAll=function(a,b,c){for(var d=g(a,b.parent),e=0;e<d.length;e++)b.key=a,j.link(d[e],b,c)},j.observe=function(a){if(i(a))return null;if(Array.isArray(a)){for(var b=[],d=0;d<a.length;d++)b.push(c(a[d]));return b}return c(a)},j.bind=function(a,b){var c=i(b)?{}:b;for(var d in a)if(a.hasOwnProperty(d))if(Array.isArray(a[d])){var e=a[d],f=g(d)[0],k=(f.firstElementChild||f.children[0]).cloneNode(!0);h(f);for(var l=0;l<e.length;l++){var m=k.cloneNode(!0);f.appendChild(m),c.parent=m,j.bind(e[l],c)}}else j.linkAll(d,c,a)},j.json=function(a){if(i(a))return null;if(Array.isArray(a)){for(var b=[],c=0;c<a.length;c++)b.push(d(a[c]));return b}return d(a)}}(window,document),"function"==typeof define&&define.amd&&define("blast",[],function(){return window.blast}),"undefined"!=typeof module&&module.exports&&(module.exports=window.blast);