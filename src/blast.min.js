(function(e,t){function i(e){var t={},r=null;for(r in e)e.hasOwnProperty(r)&&(t[r]=n.observable(e[r]));return t}function s(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]());return t}function o(t,n){t instanceof e.HTMLInputElement?t.value=n:t.innerHTML=n}function u(t){return t instanceof e.HTMLInputElement?t.value:t.innerHTML}function a(e,t){var n=t?t:r;return n.querySelectorAll("[data-bind="+e+"]")}function f(e){while(e.firstChild)e.removeChild(e.firstChild)}function l(e){return e===null||typeof e=="undefined"}var n=e.blast=e.blast||{},r=t;n.observable=function(e){var t=e,n=function(e){if(!l(e)&&e!==this._val){for(var r=0;r<n.subs.length;r++)n.subs[r](e,n._val);return t=e,this}return t};return n.subs=[],n._val=e,n.__bo=!0,n(e),n},n.observableArray=function(e){},n.link=function(e,t,n){var r=t.key;n[r].__bo&&n[r].subs.push(function(t,n){o(e,t)}),e.addEventListener(t.event?t.event:"change",function(){var t=u(e);n[r].__bo?n[r](t):n[r]=t},!1),(l(t)||t&&t.init!==!1)&&o(e,n[r].__bo?n[r]():n[r])},n.linkAll=function(e,t,r){var i=a(e,t.parent);for(var s=0;s<i.length;s++)t.key=e,n.link(i[s],t,r)},n.observe=function(e){if(l(e))return null;if(Array.isArray(e)){var t=[];for(var n=0;n<e.length;n++)t.push(i(e[n]));return t}return i(e)},n.bind=function(e,t){var r=l(t)?{}:t;for(var i in e)if(e.hasOwnProperty(i))if(Array.isArray(e[i])){var s=e[i],o=a(i)[0],u=(o.firstElementChild||o.children[0]).cloneNode(!0);f(o);for(var c=0;c<s.length;c++){var h=u.cloneNode(!0);o.appendChild(h),r.parent=h,n.bind(s[c],r)}}else n.linkAll(i,r,e)},n.json=function(e){if(l(e))return null;if(Array.isArray(e)){var t=[];for(var n=0;n<e.length;n++)t.push(s(e[n]));return t}return s(e)}})(window,document),typeof define=="function"&&define.amd&&define("blast",[],function(){return window.blast});